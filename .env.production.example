# ======================
# CA MARKETPLACE - PRODUCTION ENVIRONMENT
# ======================
# Copy this file to .env.production and fill in the actual values
# NEVER commit .env.production to git

# ----------------------
# Version
# ----------------------
VERSION=1.0.0

# ----------------------
# Database Configuration
# ----------------------
POSTGRES_DB=camarketplace
POSTGRES_USER=caadmin
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_123!

# Full DATABASE_URL (includes SSL mode for production)
DATABASE_URL=postgresql://caadmin:CHANGE_THIS_STRONG_PASSWORD_123!@postgres:5432/camarketplace?sslmode=require&connect_timeout=10

# ----------------------
# Redis Configuration
# ----------------------
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD_123!
REDIS_PORT=6379

# ----------------------
# Application Settings
# ----------------------
NODE_ENV=production
PORT=5000

# ----------------------
# JWT Configuration
# ----------------------
# Generate strong secret: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_JWT_SECRET_KEY_USE_OPENSSL_RAND_BASE64_64
JWT_REFRESH_SECRET=CHANGE_THIS_JWT_REFRESH_SECRET_USE_OPENSSL_RAND_BASE64_64
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ----------------------
# Session Configuration
# ----------------------
# Generate strong secret: openssl rand -base64 48
SESSION_SECRET=CHANGE_THIS_SESSION_SECRET_USE_OPENSSL_RAND_BASE64_48

# ----------------------
# CORS Configuration
# ----------------------
# Your production domain
CORS_ORIGIN=https://yourdomain.com
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
TRUST_PROXY=true

# ----------------------
# Razorpay Payment Gateway
# ----------------------
RAZORPAY_KEY_ID=rzp_live_xxxxxxxxxxxxx
RAZORPAY_KEY_SECRET=your_razorpay_secret_key
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret

# Platform commission percentage
PLATFORM_FEE_PERCENTAGE=10

# ----------------------
# Frontend Configuration
# ----------------------
REACT_APP_API_URL=https://yourdomain.com/api

# ----------------------
# Email Configuration (SMTP)
# ----------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# ----------------------
# Monitoring & Error Tracking
# ----------------------
# Sentry DSN - Get from: https://sentry.io
SENTRY_DSN=your-sentry-dsn-here

# Slack webhook for alerts - Create at: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=your-slack-webhook-url-here

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=3

# ----------------------
# AWS S3 (Optional - for file storage)
# ----------------------
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=ca-marketplace-uploads

# ----------------------
# Backup Configuration
# ----------------------
BACKUP_RETENTION_DAYS=7
BACKUP_DIR=/backups/postgres

# ----------------------
# Performance & Scaling
# ----------------------
# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=10000

# Redis settings
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT=10000

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ----------------------
# Feature Flags
# ----------------------
ENABLE_RATE_LIMITING=true
ENABLE_CORS=true
ENABLE_HELMET_SECURITY=true
ENABLE_COMPRESSION=true
ENABLE_MONITORING=true

# ----------------------
# SSL/TLS Configuration
# ----------------------
DOMAIN_NAME=yourdomain.com
CERT_EMAIL=admin@yourdomain.com

# ----------------------
# NOTES
# ----------------------
# 1. Generate strong passwords using: openssl rand -base64 32
# 2. Generate JWT secrets using: openssl rand -base64 64
# 3. Never use default or example passwords in production
# 4. Rotate secrets every 90 days
# 5. Keep this file secure and never commit it to version control
