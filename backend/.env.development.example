# ==================================
# CA Marketplace - Development Environment Configuration
# ==================================
# Copy this file to .env for local development
# DO NOT commit .env with real credentials

# ==================================
# Environment
# ==================================
NODE_ENV=development
PORT=5000

# ==================================
# Database Configuration
# ==================================
# For Docker development: use service name 'postgres'
# For local development: use 'localhost'
DATABASE_URL="postgresql://caadmin:CaSecure123!@postgres:5432/camarketplace"

# Database Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_CONNECTION_TIMEOUT=20000

# ==================================
# Redis Configuration
# ==================================
# For Docker development: use service name 'redis'
# For local development: use 'localhost'
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL="redis://redis:6379/0"

# Redis Session Configuration
SESSION_SECRET=dev-session-secret-change-in-production
SESSION_TTL=86400

# ==================================
# JWT Configuration
# ==================================
JWT_SECRET=dev-jwt-secret-change-in-production-minimum-32-characters
JWT_REFRESH_SECRET=dev-jwt-refresh-secret-change-in-production-minimum-32-characters
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ==================================
# CORS Configuration
# ==================================
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ==================================
# Payment Gateway (Razorpay)
# ==================================
# Use test credentials for development
RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxxxx
RAZORPAY_KEY_SECRET=test_secret_key_here
RAZORPAY_WEBHOOK_SECRET=test_webhook_secret

# Platform Fee Configuration (in percentage)
PLATFORM_FEE_PERCENTAGE=10

# ==================================
# Email/SMTP Configuration
# ==================================
# For development, use a service like Mailtrap or MailHog
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@camarketplace.local
SMTP_FROM_NAME=CA Marketplace Dev

# ==================================
# AWS / S3 Configuration
# ==================================
# For development, use LocalStack or MinIO
AWS_ACCESS_KEY_ID=dev_access_key
AWS_SECRET_ACCESS_KEY=dev_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=ca-marketplace-dev
AWS_S3_ENDPOINT=http://localhost:4566  # LocalStack endpoint

# ==================================
# File Upload Configuration
# ==================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png

# ==================================
# Monitoring & Logging
# ==================================
# Leave empty for development or use Sentry test DSN
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
LOG_LEVEL=debug

# ==================================
# Rate Limiting
# ==================================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ==================================
# Feature Flags
# ==================================
FEATURE_PAYMENTS_ENABLED=true
FEATURE_EMAIL_NOTIFICATIONS=false
FEATURE_SMS_NOTIFICATIONS=false
FEATURE_REVIEW_SYSTEM=true
FEATURE_CHAT_SYSTEM=true

# ==================================
# Security
# ==================================
BCRYPT_ROUNDS=10
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000  # 15 minutes

# ==================================
# API Configuration
# ==================================
API_VERSION=v1
API_BASE_PATH=/api
API_RATE_LIMIT=100

# ==================================
# Frontend URLs
# ==================================
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:5000

# ==================================
# Testing
# ==================================
# Separate test database for running tests
TEST_DATABASE_URL="postgresql://test:test@postgres:5432/ca_marketplace_test"
TEST_REDIS_URL="redis://redis:6379/1"

# ==================================
# Development Tools
# ==================================
# Enable detailed error pages and stack traces
SHOW_STACK_TRACES=true
ENABLE_PLAYGROUND=true
ENABLE_INTROSPECTION=true

# ==================================
# Prisma Configuration
# ==================================
PRISMA_LOG_LEVEL=info
PRISMA_QUERY_LOG=false
