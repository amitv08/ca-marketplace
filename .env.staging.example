# Staging Environment Configuration Template
# Copy this file to .env.staging and fill in the values
# DO NOT commit .env.staging to version control

# ============================================
# Database Configuration
# ============================================
POSTGRES_DB=camarketplace_staging
POSTGRES_USER=caadmin
POSTGRES_PASSWORD=your-secure-staging-password-here
POSTGRES_PORT=5433

# Full database connection string for Prisma
DATABASE_URL=postgresql://caadmin:your-secure-staging-password-here@postgres:5432/camarketplace_staging

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-here

# ============================================
# Application Configuration
# ============================================
NODE_ENV=staging
LOG_LEVEL=info

# Backend API Port (external)
BACKEND_PORT=5001

# Frontend Port (external)
FRONTEND_PORT=3001

# Nginx Port (optional - if using reverse proxy)
NGINX_PORT=8080

# ============================================
# Authentication & Security
# ============================================
JWT_SECRET=your-staging-jwt-secret-min-32-characters
JWT_EXPIRY=7d
REFRESH_TOKEN_EXPIRY=30d

# ============================================
# Payment Gateway (Razorpay Test Mode)
# ============================================
RAZORPAY_KEY_ID=rzp_test_your_test_key_id
RAZORPAY_KEY_SECRET=your_test_key_secret

# ============================================
# Docker Images
# ============================================
BACKEND_IMAGE=ghcr.io/amitv08/ca-marketplace/backend:latest
FRONTEND_IMAGE=ghcr.io/amitv08/ca-marketplace/frontend:latest

# ============================================
# Frontend Configuration
# ============================================
REACT_APP_API_URL=http://localhost:5001/api

# ============================================
# Monitoring & Error Tracking
# ============================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================
# Email Configuration (Optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-staging-email@gmail.com
SMTP_PASS=your-app-specific-password
EMAIL_FROM=noreply-staging@camarketplace.com

# ============================================
# File Upload Configuration
# ============================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=/app/uploads

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# CORS Configuration
# ============================================
ALLOWED_ORIGINS=http://localhost:3001,http://localhost:8080

# ============================================
# Deployment Configuration
# ============================================
DEPLOY_HOST=staging.camarketplace.com
DEPLOY_USER=deployer
DEPLOY_PATH=/var/www/ca-marketplace-staging

# ============================================
# Backup Configuration
# ============================================
BACKUP_RETENTION_DAYS=30
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
